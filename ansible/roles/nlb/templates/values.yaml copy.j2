controller:
  service:
    enabled: true
    annotations:
      service.beta.kubernetes.io/aws-load-balancer-type: nlb
      service.beta.kubernetes.io/aws-load-balancer-ssl-cert: "{{ acm_arn }}"
      service.beta.kubernetes.io/aws-load-balancer-ssl-ports: "443"
      service.beta.kubernetes.io/aws-load-balancer-cross-zone-load-balancing-enabled: "true"
      service.beta.kubernetes.io/aws-load-balancer-connection-idle-timeout: "3600"
    type: LoadBalancer
    ports:
      http: 80
      https: 443
    targetPorts:
      http: http
      https: http

  config:
    use-forwarded-headers: "true"
    proxy-real-ip-cidr: "{{ vpc_cidr }}"
    use-proxy-protocol: "false"
    enable-real-ip: "true"
    proxy-connect-timeout: "60s"
    proxy-read-timeout: "3600s"
    proxy-send-timeout: "3600s"
    proxy-stream-timeout: "3600s"
    proxy-next-upstream-timeout: "600s"
    proxy-buffer-size: "16k"
    proxy-buffers-number: "8"
    proxy-body-size: "64m"
    use-http2: "true"

  metrics:
    enabled: true
    serviceMonitor:
      enabled: false

  admissionWebhooks:
    enabled: true